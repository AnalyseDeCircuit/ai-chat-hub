# AI-Chat-Hub ğŸ¤–

<div align="center">

**å¤šæ¨¡å‹åä½œ AI èŠå¤©å¹³å°**

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç°ä»£åŒ– AI èŠå¤©å¹³å°ï¼Œæ”¯æŒå¤šä¸ªä¸»æµå¤§è¯­è¨€æ¨¡å‹æ— ç¼åä½œ

[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue.svg)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-18.x-61dafb.svg)](https://reactjs.org/)
[![Fastify](https://img.shields.io/badge/Fastify-4.x-black.svg)](https://fastify.io/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

[English](README_EN.md) | ç®€ä½“ä¸­æ–‡

</div>

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ”„ å¤šæ¨¡å‹åä½œ
- **8+ AI æ¨¡å‹æ”¯æŒ**: OpenAI (GPT-4, GPT-3.5)ã€Claude (Anthropic)ã€Gemini (Google)ã€DeepSeekã€Zhipu AI (æ™ºè°±æ¸…è¨€)ã€Moonshot AI (æœˆä¹‹æš—é¢)ã€Azure OpenAIã€è‡ªå®šä¹‰ç«¯ç‚¹
- **å¯¹è¯ä¸­åˆ‡æ¢**: éšæ—¶åˆ‡æ¢æ¨¡å‹ï¼Œè‡ªåŠ¨ä¼ é€’å®Œæ•´ä¸Šä¸‹æ–‡
- **æ™ºèƒ½ä¸Šä¸‹æ–‡ç®¡ç†**: è‡ªåŠ¨ Token è®¡æ•°å’Œæ™ºèƒ½æˆªæ–­ï¼Œç¡®ä¿ä¸Šä¸‹æ–‡ä¸ä¸¢å¤±

### ğŸ” å®‰å…¨ä¸éšç§
- **ç§æœ‰åŒ–éƒ¨ç½²**: æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æ‚¨çš„æœåŠ¡å™¨ï¼Œå®Œå…¨æŒæ§
- **API å¯†é’¥åŠ å¯†**: AES-256 åŒå±‚åŠ å¯†ï¼Œå¯†é’¥åªå­˜åœ¨æ‚¨çš„ç¯å¢ƒä¸­
- **ç”¨æˆ·éš”ç¦»**: å¤šç”¨æˆ·æ”¯æŒï¼Œæ•°æ®å®Œå…¨éš”ç¦»

### ğŸ’¬ èŠå¤©ä½“éªŒ
- **æµå¼å“åº”**: Server-Sent Events (SSE) å®æ—¶æµå¼è¾“å‡º
- **Markdown æ”¯æŒ**: å®Œæ•´çš„ Markdown æ¸²æŸ“ï¼Œä»£ç é«˜äº®æ˜¾ç¤º
- **ä¼šè¯ç®¡ç†**: åˆ›å»ºã€æœç´¢ã€å½’æ¡£ã€åˆ†äº«ä¼šè¯
- **æ¶ˆæ¯æ“ä½œ**: é‡æ–°ç”Ÿæˆã€ç¼–è¾‘ã€å¤åˆ¶ã€åé¦ˆ

### ğŸ“Š ä½¿ç”¨åˆ†æ
- **Token ç»Ÿè®¡**: å®æ—¶ç»Ÿè®¡è¾“å…¥/è¾“å‡º Token ç”¨é‡
- **æˆæœ¬ä¼°ç®—**: æŒ‰æ¨¡å‹è‡ªåŠ¨è®¡ç®—ä½¿ç”¨æˆæœ¬
- **å¯è§†åŒ–é¢æ¿**: ä½¿ç”¨è¶‹åŠ¿ã€æ¨¡å‹åˆ†å¸ƒä¸€ç›®äº†ç„¶

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **6 ç§ç²¾ç¾ä¸»é¢˜**: Lightã€Darkã€Violetã€Oceanã€Greenã€Sepia
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœº
- **æ¯›ç»ç’ƒæ•ˆæœ**: ç°ä»£åŒ– UI è®¾è®¡ï¼Œç»†èŠ‚æ‰“ç£¨åˆ°ä½
- **å¿«æ·æ“ä½œ**: é”®ç›˜å¿«æ·é”®ï¼Œé«˜æ•ˆæ“ä½œ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ ¸å¿ƒæ¡†æ¶**: React 18 + TypeScript 5
- **æ„å»ºå·¥å…·**: Vite 5
- **UI æ¡†æ¶**: Tailwind CSS 3 + shadcn/ui (Radix UI)
- **çŠ¶æ€ç®¡ç†**: Zustand
- **è·¯ç”±ç®¡ç†**: React Router v6
- **HTTP å®¢æˆ·ç«¯**: Axios + TanStack Query
- **Markdown æ¸²æŸ“**: react-markdown + Prism
- **ä¸»é¢˜ç®¡ç†**: CSS Variables + Context API

### åç«¯æŠ€æœ¯
- **æ ¸å¿ƒæ¡†æ¶**: Fastify 4 + TypeScript
- **æ•°æ®åº“**: PostgreSQL 16
- **ORM**: Prisma 5
- **ç¼“å­˜**: Redis 7
- **è®¤è¯**: JWT (access token + refresh token)
- **åŠ å¯†**: crypto (AES-256-GCM)
- **æ—¥å¿—**: Pino
- **æ ¡éªŒ**: Zod

### å¼€å‘å·¥å…·
- **åŒ…ç®¡ç†**: pnpm + Turborepo (Monorepo)
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **ç‰ˆæœ¬æ§åˆ¶**: Git + Conventional Commits

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
ai-chat-hub/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared/                 # å…±äº«ç±»å‹å’Œå·¥å…·
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ types/         # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ constants/     # å¸¸é‡é…ç½®ï¼ˆæ¨¡å‹åˆ—è¡¨ã€é™åˆ¶ç­‰ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ backend/               # åç«¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ adapters/     # AI æ¨¡å‹é€‚é…å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ modules/      # ä¸šåŠ¡æ¨¡å—ï¼ˆauth/chat/session/keyï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ services/     # æ ¸å¿ƒæœåŠ¡ï¼ˆåŠ å¯†/ä¸Šä¸‹æ–‡/ç»Ÿè®¡ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ plugins/      # Fastify æ’ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/   # ä¸­é—´ä»¶ï¼ˆè®¤è¯/é™æµï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ config/       # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ prisma/           # æ•°æ®åº“ Schema å’Œè¿ç§»
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ frontend/              # å‰ç«¯åº”ç”¨
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ components/   # å¯å¤ç”¨ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ stores/       # Zustand çŠ¶æ€ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ api/          # API å®¢æˆ·ç«¯
â”‚       â”‚   â””â”€â”€ styles/       # å…¨å±€æ ·å¼å’Œä¸»é¢˜
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ docker-compose.yml         # Docker æœåŠ¡ç¼–æ’
â”œâ”€â”€ pnpm-workspace.yaml        # pnpm Monorepo é…ç½®
â”œâ”€â”€ turbo.json                 # Turborepo æ„å»ºé…ç½®
â”œâ”€â”€ DEPLOYMENT.md              # è¯¦ç»†éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ SECURITY.md                # å®‰å…¨é…ç½®æŒ‡å—
â””â”€â”€ TIMELINE.md                # å¼€å‘æ—¶é—´è½´
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 18.0.0
- **pnpm**: >= 8.0.0
- **Docker Desktop**: æœ€æ–°ç‰ˆæœ¬ï¼ˆç”¨äº PostgreSQL å’Œ Redisï¼‰

### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/AnalyseDeCircuit/ai-chat-hub.git
cd ai-chat-hub

# 2. å®‰è£…ä¾èµ–
npx pnpm install

# 3. å¯åŠ¨æ•°æ®åº“æœåŠ¡
docker-compose up -d

# 4. åˆå§‹åŒ–æ•°æ®åº“
cd packages/backend
npx prisma generate
npx prisma migrate dev --name init
npx prisma db seed

# 5. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¿…é¡»ï¼ï¼‰
cp .env.example .env
# ç¼–è¾‘ .envï¼Œç”Ÿæˆå®‰å…¨å¯†é’¥ï¼š
# openssl rand -base64 32

# 6. å¯åŠ¨åç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
npm run dev

# 7. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd ../frontend
npm run dev
```

### è®¿é—®åº”ç”¨

ğŸŒ **å‰ç«¯**: http://localhost:5174 (æˆ– 5173)  
ğŸ”Œ **åç«¯ API**: http://localhost:3000/api/v1  
ğŸ’š **å¥åº·æ£€æŸ¥**: http://localhost:3000/health

### é¦–æ¬¡ä½¿ç”¨

1. **æ³¨å†Œè´¦å·**: è®¿é—®å‰ç«¯ï¼Œç‚¹å‡»"æ³¨å†Œ"åˆ›å»ºæ–°è´¦å·
2. **æ·»åŠ  API å¯†é’¥**: ç™»å½•åï¼Œè¿›å…¥"API å¯†é’¥ç®¡ç†"é¡µé¢ï¼Œæ·»åŠ è‡³å°‘ä¸€ä¸ª AI æ¨¡å‹çš„å¯†é’¥
   - OpenAI: https://platform.openai.com/api-keys
   - Claude: https://console.anthropic.com/
   - Gemini: https://makersuite.google.com/app/apikey
   - DeepSeek: https://platform.deepseek.com/
3. **å¼€å§‹å¯¹è¯**: è¿”å›èŠå¤©é¡µé¢ï¼Œé€‰æ‹©æ¨¡å‹ï¼Œå¼€å§‹ä½“éªŒï¼

> ğŸ’¡ è¯¦ç»†éƒ¨ç½²å’Œæ•…éšœæ’æŸ¥æŒ‡å—è¯·æŸ¥çœ‹ [DEPLOYMENT.md](DEPLOYMENT.md)

## ğŸ“ å¼€å‘å‘½ä»¤

```bash
# ğŸš€ å¼€å‘æ¨¡å¼ï¼ˆMonorepo æ‰€æœ‰åŒ…ï¼‰
pnpm dev

# ğŸ—ï¸ æ„å»ºé¡¹ç›®
pnpm build

# ğŸ§ª è¿è¡Œæµ‹è¯•
pnpm test

# âœ… ä»£ç æ£€æŸ¥
pnpm lint

# ğŸ¨ æ ¼å¼åŒ–ä»£ç 
pnpm format

# ğŸ“¦ æ¸…ç†ä¾èµ–
pnpm clean
```

### æ•°æ®åº“æ“ä½œ

```bash
cd packages/backend

# ç”Ÿæˆ Prisma Client
npx prisma generate

# åˆ›å»ºè¿ç§»
npx prisma migrate dev --name <migration-name>

# æ¨é€ Schemaï¼ˆä¸åˆ›å»ºè¿ç§»ï¼‰
npx prisma db push

# æ‰“å¼€ Prisma Studioï¼ˆå¯è§†åŒ–ç®¡ç†ï¼‰
npx prisma studio

# é‡ç½®æ•°æ®åº“ï¼ˆå±é™©ï¼ï¼‰
npx prisma migrate reset
```

### Docker æ“ä½œ

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# åœæ­¢å¹¶åˆ é™¤æ•°æ®
docker-compose down -v
```

## ğŸ”§ é…ç½®è¯´æ˜

### æ”¯æŒçš„ AI æ¨¡å‹

| æä¾›å•† | æ¨¡å‹ç¤ºä¾‹ | è·å–å¯†é’¥ |
|--------|---------|---------|
| OpenAI | GPT-4, GPT-4 Turbo, GPT-3.5 | [API Keys](https://platform.openai.com/api-keys) |
| Anthropic | Claude 3 Opus, Sonnet, Haiku | [Console](https://console.anthropic.com/) |
| Google | Gemini Pro, Gemini Pro Vision | [AI Studio](https://makersuite.google.com/app/apikey) |
| DeepSeek | DeepSeek Chat, DeepSeek Coder | [Platform](https://platform.deepseek.com/) |
| Zhipu AI | GLM-4, GLM-3-Turbo | [å¼€æ”¾å¹³å°](https://open.bigmodel.cn/) |
| Moonshot | Moonshot-v1, Kimi K2 | [æ§åˆ¶å°](https://platform.moonshot.cn/) |
| Azure OpenAI | è‡ªå®šä¹‰éƒ¨ç½² | [Azure Portal](https://portal.azure.com/) |
| è‡ªå®šä¹‰ | ä»»ä½• OpenAI å…¼å®¹ç«¯ç‚¹ | - |

### ç¯å¢ƒå˜é‡è¯´æ˜

**åç«¯** (`packages/backend/.env`):
```bash
# æ•°æ®åº“
DATABASE_URL=postgresql://postgres:password@localhost:5432/ai_chat_hub

# Redis
REDIS_URL=redis://localhost:6379

# JWT å¯†é’¥ï¼ˆå¿…é¡»ä¿®æ”¹ï¼ï¼‰
JWT_SECRET=<è‡³å°‘ 32 å­—ç¬¦>
REFRESH_TOKEN_SECRET=<è‡³å°‘ 32 å­—ç¬¦>

# åŠ å¯†å¯†é’¥ï¼ˆå¿…é¡»ä¿®æ”¹ï¼å¿…é¡»æ˜¯ 32 å­—èŠ‚ï¼‰
ENCRYPTION_KEY=<openssl rand -base64 32>

# CORS
CORS_ORIGIN=http://localhost:5173,http://localhost:5174

# å…¶ä»–
NODE_ENV=development
PORT=3000
LOG_LEVEL=info
```

**å‰ç«¯** (`packages/frontend/.env`):
```bash
VITE_API_URL=http://localhost:3000/api/v1
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æå‡ºé—®é¢˜æˆ–å»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### Commit è§„èŒƒ

æœ¬é¡¹ç›®éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/):

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤ Bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: é‡æ„
perf: æ€§èƒ½ä¼˜åŒ–
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·é“¾
```

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ [DEPLOYMENT.md](DEPLOYMENT.md) æ•…éšœæ’æŸ¥éƒ¨åˆ†
2. æœç´¢ [Issues](https://github.com/your-username/ai-chat-hub/issues) æ˜¯å¦å·²æœ‰ç›¸å…³é—®é¢˜
3. æäº¤æ–°çš„ Issueï¼Œé™„ä¸Šè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œç¯å¢ƒä¿¡æ¯

## ğŸ—ºï¸ å¼€å‘è·¯çº¿å›¾

- [x] åŸºç¡€èŠå¤©åŠŸèƒ½
- [x] å¤šæ¨¡å‹æ”¯æŒå’Œåˆ‡æ¢
- [x] API å¯†é’¥ç®¡ç†
- [x] ä¼šè¯ç®¡ç†å’Œå¯¼å‡º
- [x] ä½¿ç”¨ç»Ÿè®¡
- [x] å¤šä¸»é¢˜æ”¯æŒ
- [ ] å›¾ç‰‡ç†è§£ï¼ˆVision æ¨¡å‹ï¼‰
- [ ] æ–‡ä»¶ä¸Šä¼ å’Œè§£æ
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] ç§»åŠ¨ç«¯ App
- [ ] è¯­éŸ³å¯¹è¯
- [ ] å›¢é˜Ÿåä½œåŠŸèƒ½

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [CC-BY-NC 4.0](LICENSE) å¼€æºã€‚

**è®¸å¯è¯è¯´æ˜**:
- âœ… å¯ä»¥è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹
- âœ… å¿…é¡»ç½²å
- âœ… ä»…é™éå•†ä¸šç”¨é€”
- âŒ ç¦æ­¢å•†ä¸šä½¿ç”¨

è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶æˆ–è®¿é—® [Creative Commons](https://creativecommons.org/licenses/by-nc/4.0/)

## ğŸ™ è‡´è°¢

- [Fastify](https://fastify.io/) - é«˜æ€§èƒ½ Node.js æ¡†æ¶
- [Prisma](https://www.prisma.io/) - ç°ä»£åŒ– ORM
- [shadcn/ui](https://ui.shadcn.com/) - ç²¾ç¾çš„ UI ç»„ä»¶
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨çš„ CSS æ¡†æ¶

---

<div align="center">

**â­ å¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼â­**

Made with â¤ï¸ by AI-Chat-Hub Team

</div>
